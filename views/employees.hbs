<h1>Employees</h1>
<div id="Employees">
  <table id="Employee-table">

    {{!-- Header section --}}
    <thead>

        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr>
            {{#each data.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
	    <th>delete</th>
        <th>edit</th>
        </tr>
    </thead>
     {{!-- Body section --}}
    <tbody>

        {{!-- For each row, print the id, fname, lname, homeworld and age, in order --}}
        {{#each data}}
        <tr data-value={{this.employee_ID}}>
            <td>{{this.employee_ID}}</td>
            <td>{{this.employee_FirstName}}</td>
            <td>{{this.employee_LastName}}</td>
            <td>{{this.employee_Address}}</td>
            <td>{{this.employee_PhoneNumber}}</td>
	    <td>{{this.employee_EmailAddress}}</td>
	    <td><button onclick="deleteEmployee({{this.employee_ID}})">Delete</button></td>
        <td><button onclick="OpenupdateEmployee({{this.employee_ID}})">Edit</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>

<script src="/js/delete_employee.js"></script>

<form id="OpenupdateEmployee" style="display: none;">
            <h3>Edit Employee</h3>
                <label id="employee_id"><b>Employee ID</b></label>
                <input id="employee_ID" readonly="readonly" />
                <label for="employee_FirstName"><b>First Name</b></label>
                <input type="text" id="employee_FirstName">
            
                <label for="employee_LastName"><b>Last Name</b></label>
                <input type="text" id="employee_LastName">

                <label for="employee_Address"><b>Address</b></label>
                <input type="text" id="employee_Address">
            
                <label for="employee_PhoneNumber"><b>Phone Number</b></label>
                <input type="text" id="employee_Phone">

                <label for="employee_EmailAddress"><b>Email</b></label>
                <input type="text" id="employee_Email">
            
                <button type="submit" class="btn">Update Employee</button>
                <button type="button" class="btn cancel" onclick="CloseupdateEmployee()">Cancel</button>
            </form>
<script>
    function goToEmployees()
    {
        
    }
function OpenupdateEmployee(employeeID) {
    findRow(employeeID);
    document.getElementById("OpenupdateEmployee").style.display = "block";
}

function CloseupdateEmployee() {
    document.getElementById("OpenupdateEmployee").style.display = "none";
}
function findRow(employeeID){
    
    let table = document.getElementById("Employee-table");

    for (let i = 0, row; row = table.rows[i]; i++) {
       //iterate through rows
       //rows would be accessed using the "row" variable assigned in the for loop
       if (table.rows[i].getAttribute("data-value") == employeeID) {
            
            // Get the location of the row where we found the matching person ID
            let updateRowIndex = table.getElementsByTagName("tr")[i];
            let tempfirstname = updateRowIndex.cells[1];
            let templastname = updateRowIndex.cells[2];
            let tempaddress = updateRowIndex.cells[3];
            let tempnumnber = updateRowIndex.cells[4];
            let tempemail = updateRowIndex.cells[5];

            document.getElementById("employee_ID").value = employeeID;
            document.getElementById("employee_FirstName").value = tempfirstname.innerText;
            document.getElementById("employee_LastName").value = templastname.innerText;
            document.getElementById("employee_Address").value = tempaddress.innerText;
            document.getElementById("employee_Phone").value = tempnumnber.innerText;
            document.getElementById("employee_Email").value = tempemail.innerText;
       }
    }
}

</script>         
   

<script src="/js/update_employee.js"></script>



<h2>Adding Data using an HTML form</h2>
<p>To add a new person, please enter their information below nad click `Submit`!</p>
<form id="add-employee-form" method="POST" action="/add-employee-form">
    
    <label for="input-id">Employee ID: </label>
    <input type="number" name="input-id" id="input-id">

    <label for="input-fname">First Name: </label>
    <input type="text" name="input-fname" id="input-fname">
    
    <label for="input-lname">Last Name: </label>
    <input type="text" name="input-lname" id="input-lname">

    <label for="input-address">Address: </label>
    <input type="text" name="input-address" id="input-address">

    <label for="input-phone">Phone Number: </label>
    <input type="number" name="input-phone" id="input-phone">

    <label for="input-email">Email: </label>
    <input type="text" name="input-email" id="input-email">

    <input type="submit">
</form>
    <button class="button newEmployee" onclick="NewEmployeeForm()">New Employee</button>
        <button class="button FindEmployee" onclick="NewFindEmployeeForm()">Find Employee</button>
        <!-- <div class="form-popup" id="NewCustomerForm"> -->
            <form id="NewEmployeeForm" class="form-container" style="display: none;">
              <h1>New Employee</h1>
          
              <label for="employee_FirstName"><b>First Name</b></label>
              <input type="text" placeholder="Enter First Name" name="employee_FirstName" required>
          
              <label for="employee_LastName"><b>Last Name</b></label>
              <input type="text" placeholder="Enter Last Name" name="employee_LastName" required>

              <label for="employee_Address"><b>Address</b></label>
              <input type="text" placeholder="Enter Address" name="employee_Address" required>
          
              <label for="employee_PhoneNumber"><b>Phone Number</b></label>
              <input type="text" placeholder="Enter Phone Number" name="employee_PhoneNumber" required>

              <label for="employee_EmailAddress"><b>Email</b></label>
              <input type="text" placeholder="Enter Email" name="employee_EmailAddress" required>
          
              <button type="submit" class="btn">Enter New employee</button>
              <button type="button" class="btn cancel" onclick="CloseNewEmployeeForm()">Cancel</button>
            </form>
           
            <form id="EditEmployeeForm" class="form-container" style="display: none;">
                <h1>New Employee</h1>
            
                <label for="employee_FirstName"><b>First Name</b></label>
                <input type="text" placeholder="Enter First Name" name="employee_FirstName" required>
            
                <label for="employee_LastName"><b>Last Name</b></label>
                <input type="text" placeholder="Enter Last Name" name="employee_LastName" required>
  
                <label for="employee_Address"><b>Address</b></label>
                <input type="text" placeholder="Enter Address" name="employee_Address" required>
            
                <label for="employee_PhoneNumber"><b>Phone Number</b></label>
                <input type="text" placeholder="Enter Phone Number" name="employee_PhoneNumber" required>
  
                <label for="employee_EmailAddress"><b>Email</b></label>
                <input type="text" placeholder="Enter Email" name="employee_EmailAddress" required>
            
                <button type="submit" class="btn">Update employee</button>
                <button type="button" class="btn cancel" onclick="CloseupdateEmployee()">Cancel</button>
              </form>
          <!-- </div> -->
        <script>
            function NewEmployeeForm() {
              document.getElementById("NewEmployeeForm").style.display = "block";
            }
            
            function CloseNewEmployeeForm() {
              document.getElementById("NewEmployeeForm").style.display = "none";
            }

            function updateEmployee() {
                document.getElementById("EditEmployeeForm").style.display = "block";
            }
            
            function CloseupdateEmployee() {
                document.getElementById("EditEmployeeForm").style.display = "none";
            }
            
            // function NewFindCustomerForm() {
            //   document.getElementById("NewFindCustomerForm").style.display = "block";
            // }
            
            // function CloseNewFindCustomerForm() {
            //   document.getElementById("NewFindCustomerForm").style.display = "none";
            // }

        </script>